# Assignment 1 — Matching Pennies (WSLS vs k-ToM-inspired belief learning)

This folder contains everything needed for the Assignment 1 deliverable.

What this pipeline does
1) Simulates repeated Matching Pennies with a mid-game **role swap** (30 trials + 30 trials).
2) Implements two strategies:
   - WSLS (Win–Stay / Lose–Shift)
   - k-ToM-inspired belief learning (interpretable opponent modelling)
3) Uses Stan in two ways:
   - **Fixed-parameter** models to sample heterogeneous agent parameters from explicit priors.
   - **Hierarchical** fitted models for parameter recovery + interpretation.
4) Produces:
   - Tournament plots (performance + role sensitivity + payoff variance)
   - A Chapter-5-style interpretation plot (posterior + recovery)
   - LOO model comparison (table + dot plot)

## How to run (RStudio recommended)

1) Make sure packages are available (best via `renv::restore()` from repo root).
2) Install CmdStan once:
   - `cmdstanr::install_cmdstan()`
3) Open `run_all.R` and click **Source**.

Outputs go to:
- `outputs/figs/`
- `outputs/data/`
